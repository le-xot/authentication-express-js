<!DOCTYPE html>
<html>
  <head>
    <title>–ê–¥–º–∏–Ω</title>
    <style>
      body {
        background-color: rgb(184, 184, 184);
      }
    </style>
  </head>
  <body align="center">
    <h2>–ü–æ–∑–¥—Ä–∞–≤–ª—è—é, –≤—ã –∞–¥–º–∏–Ω üòé</h2>
    <form method="POST" action="/admin/delete">
      <input type="submit" value="–£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π" style="width: 200px" />
    </form>
    <form method="GET" action="/admin/exit">
      <input type="submit" value="–í—ã–π—Ç–∏" style="width: 200px" />
    </form>
    <a href="/" target="_self">
      <input type="submit" value="–î–æ–º–æ–π" style="width: 200px" />
    </a>
    <table id="usersTable" align="center">
      <thead>
        <tr>
          <th>Username</th>
          <th>‚†Ä‚†Ä‚†Ä</th>
          <th>Role</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <script>
      fetch("admin/api/users")
        .then((response) => response.json())
        .then((users) => {
          const rows = users.map((user) => {
            return `
              <tr>
                <td>${user.username}</td>
                <th>‚†Ä‚†Ä‚†Ä</th>
                <td>${user.role}</td>
              </tr>
            `;
          });
          const tbody = document.querySelector("#usersTable tbody");
          tbody.innerHTML = rows.join("");
        })
        .catch((error) => console.error(error));
    </script>
  </body>
</html>
